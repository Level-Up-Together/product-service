### ============================================================
### 길드 관리 APIs
### ============================================================

### ----------------------------------------------------------
### 길드 생성
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "name": "Morning Runners",
  "description": "A guild for people who love morning runs",
  "categoryId": 1,
  "isPublic": true,
  "maxMembers": 50
}

### ----------------------------------------------------------
### 길드 상세 조회
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 공개 길드 목록 (페이징)
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/public?page=0&size=20
Accept: application/json

### ----------------------------------------------------------
### 길드 검색
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/search?keyword=runners&page=0&size=20
Accept: application/json

### ----------------------------------------------------------
### 내 길드 목록
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/my
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 길드 정보 수정
### ----------------------------------------------------------
PUT {{baseUrl}}/api/v1/guilds/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "name": "Morning Runners Club",
  "description": "Updated description",
  "maxMembers": 100
}

### ----------------------------------------------------------
### 길드 이미지 업로드
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/image
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=boundary

--boundary
Content-Disposition: form-data; name="image"; filename="guild-image.png"
Content-Type: image/png

< ./test-image.png
--boundary--

### ----------------------------------------------------------
### 길드 마스터 권한 이양
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/transfer-master
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "newMasterId": "new-master-user-id"
}

### ----------------------------------------------------------
### 길드 멤버 목록
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/members
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 길드 탈퇴
### ----------------------------------------------------------
DELETE {{baseUrl}}/api/v1/guilds/1/members/me
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 길드 가입 신청 (공개 길드)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/join-requests
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "message": "I'd love to join your guild!"
}

### ----------------------------------------------------------
### 가입 신청 목록 (마스터 전용)
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/join-requests?page=0&size=20
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 가입 신청 승인 (마스터 전용)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/join-requests/1/approve
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 가입 신청 거절 (마스터 전용)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/join-requests/1/reject
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "rejectReason": "Sorry, we're not accepting new members at this time"
}

### ----------------------------------------------------------
### 멤버 초대 (비공개 길드, 마스터/부마스터)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/members/invitee-user-id
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 부길드마스터 승격 (마스터 전용)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/members/target-user-id/promote-sub-master
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 부길드마스터 강등 (마스터 전용)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/members/target-user-id/demote-sub-master
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 멤버 추방 (마스터/부마스터)
### ----------------------------------------------------------
DELETE {{baseUrl}}/api/v1/guilds/1/members/target-user-id
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 길드 해체 (마스터 전용)
### ----------------------------------------------------------
DELETE {{baseUrl}}/api/v1/guilds/1
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 길드 경험치/레벨 정보 조회
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/experience
Accept: application/json

### ----------------------------------------------------------
### 모든 길드 거점 정보 조회 (지도 표시용)
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/headquarters
Accept: application/json

### ----------------------------------------------------------
### 거점 설정 가능 여부 검증 (마스터용)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/headquarters/validate
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "latitude": 37.5665,
  "longitude": 126.9780
}

### ----------------------------------------------------------
### 거점 설정 가능 여부 검증 (길드 생성 전)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/headquarters/validate
Content-Type: application/json
Accept: application/json

{
  "latitude": 37.5665,
  "longitude": 126.9780
}

### ----------------------------------------------------------
### 길드 레벨 설정 조회
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/level-configs
Accept: application/json

### ============================================================
### 길드 채팅 APIs → guild-chat.http로 분리됨
### ============================================================

### ============================================================
### 길드 게시판 APIs
### ============================================================

### ----------------------------------------------------------
### 게시글 작성
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/posts
Authorization: Bearer {{accessToken}}
X-User-Nickname: TestUser
Content-Type: application/json
Accept: application/json

{
  "title": "Welcome to our guild!",
  "content": "Hello everyone, let's work hard together!",
  "postType": "NORMAL"
}

### ----------------------------------------------------------
### 공지 게시글 작성 (마스터 전용)
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/posts
Authorization: Bearer {{accessToken}}
X-User-Nickname: TestUser
Content-Type: application/json
Accept: application/json

{
  "title": "Important Notice",
  "content": "Please read this important announcement",
  "postType": "NOTICE"
}

### ----------------------------------------------------------
### 게시글 목록 조회
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/posts?page=0&size=20
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 게시글 유형별 조회
### PostType: NOTICE, NORMAL
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/posts/type/NOTICE?page=0&size=20
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 공지글 목록 조회
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/posts/notices
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 게시글 검색
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/posts/search?keyword=welcome&page=0&size=20
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 게시글 상세 조회
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/posts/1
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 게시글 수정
### ----------------------------------------------------------
PUT {{baseUrl}}/api/v1/guilds/1/posts/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "title": "Updated Title",
  "content": "Updated content"
}

### ----------------------------------------------------------
### 게시글 삭제
### ----------------------------------------------------------
DELETE {{baseUrl}}/api/v1/guilds/1/posts/1
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 게시글 상단 고정/해제 토글 (마스터)
### ----------------------------------------------------------
PATCH {{baseUrl}}/api/v1/guilds/1/posts/1/pin
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 댓글 작성
### ----------------------------------------------------------
POST {{baseUrl}}/api/v1/guilds/1/posts/1/comments
Authorization: Bearer {{accessToken}}
X-User-Nickname: TestUser
Content-Type: application/json
Accept: application/json

{
  "content": "Great post!"
}

### ----------------------------------------------------------
### 댓글 목록 조회
### ----------------------------------------------------------
GET {{baseUrl}}/api/v1/guilds/1/posts/1/comments
Authorization: Bearer {{accessToken}}
Accept: application/json

### ----------------------------------------------------------
### 댓글 수정
### ----------------------------------------------------------
PUT {{baseUrl}}/api/v1/guilds/1/posts/1/comments/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json
Accept: application/json

{
  "content": "Updated comment"
}

### ----------------------------------------------------------
### 댓글 삭제
### ----------------------------------------------------------
DELETE {{baseUrl}}/api/v1/guilds/1/posts/1/comments/1
Authorization: Bearer {{accessToken}}
Accept: application/json
